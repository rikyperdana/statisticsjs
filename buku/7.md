# 7. How Things Happen

> "Holmes, ia kabur dan membuang barang bukti ke sungai itu"

> "Tenang Watson, ikut aku" Sherlock & Watson pergi ke bendungan dan menemukan pistol tersangka

> "Bagaimana kau tau barang itu bisa ditemukan disini, Holmes"

> "Ia bisa kabur dari aku, tapi tidak akan bisa kabur dari logika, tuan Watson. Ingat kausalitas"

Berkat gravitasi, semua barang akan cenderung jatuh kebawah, bukan ke atas. Dengan deduksi kecepatan arus sungai, alur belokan sungai, dan ukuran objek yang dicari, Holmes tau kemana barang yang dia cari "kemungkinan" akan didapat. Apa yang terjadi dalam kepala Holmes bukan statistik, melainkan intuisi, pengalaman, dan logika. Bagaimana kalau tidak semua orang seperti Holmes? Tidak punya cukup pengalaman, tidak punya jaket detektif, dan tidak punya rekanan seperti Dr. Watson. Hanya berbekal data dan statistik, bisakah kita menganalisis hubungan antara hal-hal, antar variabel? Jawabannya bisa, dengan statistik inferensial.

## 7.1. Corelation
Ketika Anda menyaksikan sebuah fenomena yang dapat diukur dalam 2 variabel (=hal berubah) atau lebih, kemungkinan besar Anda akan klaim bahwa iya kedua variabel tersebut berhubungan. Mari kita ambil contoh antara termometer raksa dan temperatur ruangan. Kita bisa mengamati bahwa air raksa perlahan naik saat cuaca semakin panas, dan kembali turun saat sudah gelap. Apakah kenaikan raksa pada termometer yang menyebabkan cuaca diluar jadi panas, atau sebaliknya? Pada kasus tadi tentu lebih mudah untuk melihat apa yang menyebabkan apa. Tapi pada kebanyakan kasus, agak buram siapa yang menjadi penyebab dan siapa yang menjadi akibat. Sebagai contoh, ketika Anda pulang hujan-hujanan, biasanya Anda akan demam, meriang, atau minimal flu. Orang yang naif akan dengan mudah mengambil kesimpulan bahwa hujanlah yang menyebabkan demam. Sedikit yang menyadari yang membuat dia flu bukan molekul air dalam hujan yang menyebabkan demam, melainkan virus yang sudah standby menunggu saat imun tubuh Anda turun, dan kebetulan setelah hujan-hujanan. Karena kita tidak bisa berasumsi kausalitas pada setiap situasi yang kita hadapi, apakah kita punya cara untuk melihat hubungan antara 2 variabel dalam 1 fenomena melalui statistik? Jawabannya adalah korelasi.

Korelasi tidak menjustifikasi siapa yang melakukan apa duluan, dan menjadi penyebab terjadinya sesuatu pada sesuatu yang lain. Kalau kita terjemahkan dalam bahasa statistik, kalaupun kita belum bisa mengetahui hubungan kausalitas antara X dan Y, setidaknya kita bisa tahu secara kuantitatif apakah X dan Y bergerak bersama (maju/mundur, turun/naik). Konsep korelasi sendiri sudah lama dalam praktik matematika selama ratusan tahun. Pada peradaban Arab dan China, para cendekiawan sudah bisa menggunakan "statistik purba" untuk melihat keterkaitan antara 2 kejadian yang dapat diukur secara matematis. Contohnya dengan menghitung selisih antara setiap eksperimen, selisih hitung 2 sampel, tapi cukup sampai disitu saja, mereka belum bisa menghasilkan sebuah koefisien atau konstanta yang dalam statistik modern lebih reliabel. Untuk itu beberapa ilmuan Eropa mencetuskan ide mereka masing-masing tentang cara menghitung korelasi secara akurat. Dalam bab ini Anda akan banyak mendengar nama seperti Pearson, Spearman, and the gang.

### 7.1.1. Korelasi Pearson
Korelasi Pearson adalah model matematis statistik yang dikembangkan oleh Pearson (orang) yang dapat menghasilkan sebuah angka indeks seberapa kuat/lemah dan positif/negatif hubungan antara 2 variabel. Bentuk formula matematisnya adalah sebagai berikut:
![Gambar: formula korelasi Pearson]()

Yang jika dikonversi menjadi kode JS, maka bentuknya seperti berikut:
```
corelation = (x, y) => (
  x.length * sum(x.map((i, j) => i * y[j])) -
  sum(x) * sum(y)
) / pow(1/2)(
  (
    x.length * sum(x.map(pow(2))) -
    pow(2)(sum(x))
  ) * (
    x.length * sum(y.map(pow(2))) -
    pow(2)(sum(y))
  )
)

corelation(
  [3, 6, 9, 10, 13],
  [12, 23, 24, 26, 28]
) // get 0.9149

determination = (x, y) => pow(2)(corelation(x, y))

determination(
  [3, 6, 9, 10, 13],
  [12, 23, 24, 26, 28]
) // get 0.8370
```

`corelation` adalah fungsi yang bisa menerima 2 deret angka yang berbeda, sebut saja variabel x dan variabel y (terlepas dari siapa yang mempengaruhi siapa). Cara kerja fungsi ini cukup sederhana, hanya melibatkan aritmatika dasar, perpangkatan dan pengakaran. Pada contoh diatas ketika fungsi `corelation` dipanggil untuk mengerjakan data:
```
  [ 3,  6,  9, 10, 13],
  [12, 23, 24, 26, 28]
```
Secara intuitif Anda bisa lihat sendiri bahwa terlepas dari berapapun besaran angka X dan Y, mereka selalu bergerak bersama secara positif. Dan angka yang dikeluarkan oleh fungsi `corelation` untuk data ini adalah sebesar +0.9149, artinya ada korelasi positif antara variabel X dan Y dengan kekuatan hubungan yang sangat mendekati +1.0(= nilai korelasi sempurna). Sekarang coba Anda karang data sendiri dengan nilai pada deret X dan Y yang besar kecilnya acak, bisa jadi Anda tidak akan mendapati nilai korelasi yang setinggi itu.

Batas maksimal nilai korelasi yang bisa dihasilkan oleh fungsi ini adalah +1.0 dan -1.0, dan batas minimal yang dimungkinkan adalah 0.0. Kalau Anda mendapati suatu angka semakin mendekati +1.0 maka dapat dianggap kedua variabel tersebut berkorelasi positif, bila mendekati 0 maka semakin kecil korelasinya, dan bila pas di 0 maka dapat dianggap mereka tidak berkorelasi sama sekali. Sementara bila nilainya mengandung tanda negatif maka berarti kedua variabel tersebut memiliki tendensi untuk saling menjauh atau berkebalikan. Pada kasus nilai mendekati -1.0 berarti kedua variabel tersebut dapat dianggap hampir berkebalikan sempurna. Joke: Jadi kalau Anda ingin tes pengetahuan teman Anda tentang korelasi, coba bilang "nilai korelasinya bagus ya, lebih dari 10". Tergantung reaksi dia, Anda tahu dia paham atau tidak.

Determination kata dasarnya determine yang artinya "menentukan". Maksudnya seberapa besar kemungkinan diketahuinya kondisi sebuah variabel dapat menjelaskan kondisi variabel lain yang dianggap telah berkorelasi tadi. Proses perhitungannya cukup sederhana, hanya meng-kuadratkan hasil output `corelation`, tapi justru dengan ini kita akan selalu memperoleh nilai yang relatif lebih kecil dari nilai korelasi dasarnya. Pada contoh diatas pemanggilan kode `determination` menghasilkan nilai 0.8370, berarti ada kemungkinan 83.7% kondisi pada variabel X dapat menjelaskan kondisi variabel Y. Tapi hanya mengetahui kekuatan hubungan saja tidak cukup, kita juga perlu mengetahui hal-hal lain yang terkait dengan persamaan untuk prediksi nilai ketika salah satu variabel diketahui, khusus untuk itu kita akan butuh model statistik yang lebih canggih dari ini. Karena negatif kuadrat akan selalu positif, maka seberapa negatif pun hasil nilai korelasi, nilai determinasi akan tetap positif.

Kelebihan korelasi Pearson:
1. Cara matematis yang relatif sederhana tapi efektif untuk memperoleh sebuah indeks korelasi

Kekurangan korelasi Pearson:
1. Korelasi hanya menggambarkan 2 variabel itu bergerak searah atau tidak, bukan sebab-akibat

### 7.1.2. Korelasi Ranking ala Spearman
Rumus korelasi Pearson hanya bisa digunakan bila data Anda adalah data interval atau skala, sementara bila datanya berupa ranking maka korelasi Pearson sama sekali tidak bisa digunakan. Korelasi Spearman khusus untuk menangani perhitungan korelasi dimana data yang tersedia hanya dalam bentuk ranking, bukan nilai sebenarnya. Contoh kecilnya dalam suatu balap 1000cc, Valentino Rossi juara 1 dengan finishing lap di 15 menit, 40 detik, 32 milidetik. Marquez menyelesaikan dalam 15 menit, 40 detik, 31 milidetik. Dan Lorenzo menyelesaikan dalam 28 menit, 17 detik, 20 milidetik. Anda bisa bayangkan bahwa Rossi dan Marquez menyelesaikan garis finish pada waktu yang sepersekian detik hampir bersamaan, sementara Lorenzo lumayan jauh tertinggal di belakang dan mendaptkan juara 3, tapi urutannya hanya 1 ranking setelah Marquez. Dengan pemeringkatan, kita berpotensi kehilangan kesempatan untuk memperbandingkan selisih "sebenarnya" dari objek yang diamati. Walau demikian bukan berarti tidak ada alat statistik yang bisa menanganinya, itulah Spearman Rank Corelation.

Mari kita lihat sebuah contoh kasus:

|  Student  | Sport  |  Music |
|-----------|--------|--------|
|     A     |   82   |   79   |
|     B     |   75   |   80   |
|     C     |   85   |   89   |
|     D     |   70   |   65   |
|     E     |   77   |   67   |
|     F     |   60   |   62   |
|     G     |   63   |   61   |
|     H     |   66   |   68   |
|     I     |   80   |   81   |
|     J     |   89   |   84   |

Pada tabel diatas terdapat 10 orang siwa yang masing-masing mereka ikut ajang kompetisi akbar olahraga dan musik yang diikuti oleh 100 orang peserta. Sayangnya tidak satupun murid-murid menang membawa lencana juara, malahan bisa dibilang ranking rendah semua. Kedua guru olah raga dan seni saling menunjukkan hasil evaluasi ranking masing-masing anak tersebut dan mendapati susunannya seperti tabel di atas. Mereka berasumsi bahwa anak yang jago dalam olahraga mungkin akan bisa bagus dalam bidang seni. Hanya mereka tidak bisa sekedar berasumsi bahwa hal itu benar dan mendadak menerapkannya ke sekolah. Mereka butuh bukti matematis bahwa kedua set data ini memang berkorelasi. Sayangnya kedua guru tersebut hanya jago di bidang masing-masing dan kurang mengenal statistik. Andapun hadir dengan wajah di tengah mereka dengan wajah sumringah, "Mana datanya?".

