# 3. Central Tendency

Kalau diartikan secara langsung ke bahasa Indonesia artinya adalah tendensi tengah yang maknanya adalah kecenderungan sekelompok data terhadap pertengahannya. Orang yang awam terhadap konsep statistik akan cenderung hanya menggunakan rata-ratauntuk mencari pertengahan data, sedikit sekali masyarakat menyadari bahwa formula rata-rata memiliki potensi resiko bias ketika dalam kelompok data yang dihadapi dijumpai data yang eksrtim kecil atau ekstrim besar (dibaca: outlier). Oleh karena itu kita membutuhkan algoritma alternatif selain rata-rata yaitu antara lain median dan moda. Kehadiran tiga alternatif algoritma ini tidak untuk menunjukkan siapa yang terbaik dalam penentuan pertengahan data, melainkan digunakan bersama dan untuk menutupi kekurangan satu sama lain, plus kemampuan untuk melihat kemiringan distribusi data (hal yang tidak mungkin dicapai tanpa kerjasama mean, median, dan moda). Jokes: penulis menyaksikan puluhan tayangan kura-kura ninja untuk menyadari bahwa misi mereka hanya bisa selesai bila dikerjakan bersama. Mari kita berkenalan dengan Mean, Median, dan Moda.

## 3.1. Mean
Adalah rata-rata hitung dari sekelompok data. Cara mendapatkannya adalah dengan menjumlahkan seluruh anggota dan dibagi dengan panjang data. Kode JS-nya adalah sebagai berikut:
```
  mean = array => add(array) / array.length

  mean([4, 2, 3, 1, 3, 4, 3, 2]) // hasilnya 2,75
```
Fungsi mean dapat melakukan pekerjaannya yang terbaik ketika data yang kita hadapkan padanya memiliki kesenjangan yang wajar/normal. Masalah mulai tampak ketika salah satu atau beberapa memiliki nilai ekstrim. Contoh:
```
  mean([4, 2, -300, 1, 3, 4, 3, -800]) // hasilnya -135,375
  mean([4, 2, 3, 1, 3, 4, 3, 1500]) // hasilnya 190
```

## 3.2. Median
Adalah algoritma pencarian nilai tengah data yang 'hampir' tidak melibatkan aritmatika. Karena mencari nilai median cukup dengan mengurutkan data dari yang terkecil ke yang terbesar (bisa juga sebaliknya) lalu mengambil nilai yang terletak paling tengah. Dimana jika panjang himpunan adalah ganjil maka nilai tengah bisa langsung ditunjuk, sementara bila panjang himpunannya genap maka bisa ambil dari mean dua data yang paling tengah. Mencari nilai median secara manual oleh manusia untuk himpunan yang relatif pendek memang mudah, masalah baru muncul ketika kita ingin "kenapa tidak komputer saja yang mengerjakan?"

Penulis telah mencoba meninjau beberapa referensi tentang algoritma pencarian median secara otomatis oleh komputer dan sayang sekali masih relatif sedikit, dan dari yang ditemukan semuanya menggunakan paradigma prosedural, sementara pada buku ini penulis ingin konsisten dengan paradigma fungsional. Berikut ini adalah kode JS untuk pencarian median serta penjelasannya:
```
  median = array => withThis( // Penjelasan kode #1
    sort(array), sorted => ors([ // #2
      sorted.length === 1 && sorted[0], // #3
      sorted.length === 2 && add(sorted) / 2 // #4
    ]) || median(sorted.slice(1, sorted.length - 1)) // #5
  )
```
Penjelasan kode:
1. Urutkan dulu isi himpunan dari nilai terkecil ke terbesar
2. Pilih salah satu kondisi yang benar
3. Jika tengah tinggal 1 maka itulah hasilnya
4. Jika tengah tinggal 2 maka ambil nilai mean keduanya
5. Jika himpunan masih ada 3 atau lebih maka pangkas nilai pangkal dan ujung
```
  median([1, 2, 3]) // hasilnya 2
  median([4, 2, 3, 1, 3, 4, 3, 2]) // hasilnya 3

  median([1, 2, 5, 100]) // hasilnya 3.5
  median([1, 1, 1, 1, 1, 1, 1500]) // hasilnya 1
```
Masalah mulai tampak ketika dalam himpunan muncul anggota yang ekstrim.

## 3.3. Moda
Adalah teknik ketiga pada Central Tendency bersaudara yang mirip dengan median karena hampir tidak membutuhkan kalkulasi. Moda bekerja dengan cara menteli (tally counting) untuk mengetahui berapa kali setiap anggota himpunan muncul dengan nilai yang eksak sama pada anggota lainnya, lalu menunjuk salah satu angka yang paling sering muncul. Tidak banyak buku statistik yang membahas cara mengerjakan moda secara otomatis, dan disini penulis telah mengembangkan kode JS pencarian moda berikut contoh:
```
  mode = array => +Object.entries( // Penjelasan kode #1
    array.reduce((acc, inc) => // #2
      Object.assign(acc, {[inc]: // #3
        acc[inc] ? acc[inc] + 1 : 1 // #4
      })
    , {}) // #5
  ).reduce((acc, inc) => // #6
    inc[1] > acc[1] ? inc : acc // #7
  , [0, 0])[0] // #8
```
Penjelasan kode:
1. Untuk mengambil angka besar terakhir yang tersisa
2. Urai satu per satu anggota himpunan untuk diteli
3. Untuk setiap nilai unik cari/buatkan pasangan 'key:value' nya
4. Bila telah ada maka naikkan nilainya 1, kalau tidak maka mulai dari 1
5. Objek kosong tempat menyimpan daftar pasangan 'key:value'
6. Urai objek untuk mulai mencari nilai dengan frekuensi terbesar
7. Jika nilai iterasi lebih besar maka timpa nilai sebelumnya, jika tidak maka pertahankan nilai sebelumnya
8. Ambil nilai yang tersisa untuk dikembalikan sebagai angka

Kode JS diatas adalah cara pencarian modal paling sederhana yang bisa penulis susun. Bila penjelasan diatas masih relatif sulit dipahami, harap untuk dimaklumi karena membangun kode sering kali lebih mudah daripada menyusun penjelasannya. Tapi bagi yang berminat silahkan urai kodenya satu per satu.

```
  moda([4, 2, 3, 1, 3, 4, 3, 2]) // hasilnya 3

  moda([1, 2, 2, 100]) // hasilnya 2
  moda([1, 2, 2, 3, 3, 4, 4]) // hasilnya 2
  moda([1, 2, 3, 4, 5]) // hasilnya 1
```

Dari uji coba diatas kita juga bisa melihat bahwa moda tidak terlepas dari masalah yang ditimpulkan oleh nilai ekstrim. Dan masalah kedua adalah bila ditemukan lebih dari 1 angka yang frekuensinya sama, maka yang diambilhanya salah satunya, dalam hal ini angka yang pertama.

------------------------------------------------------------------

Kini pembaca telah mengetahui apa itu mean, median, dan moda, bagaimana cara menghitungnya melalui JS, dan apa saja masalah yang masing-masing mereka hadapi. Bila penulis menyusung kekurangan dan kelebihannya dalam tabel maka bentuknya adalah sebagai berikut:

Tabel. Kelebihan dan Kekurangan Mean, Median, Moda
|          |Kelebihan       |Kekurangan      |
|----------|----------------|----------------|
|Mean      |semua data diperlakukan setara|terlalu sensitif terhadap nilai ekstrim
|Median    |mengetahui tengah data yang imbang kiri-kanan|tidak sadar data ekstrim
|Moda      |tahu data mana yang mayoritas|mengabaikan data minoritas

Seperti yang telah penulis sebutkan sebelumnya bahwa meski mean, median, dan moda masing-masing memiliki kelemahan, mereka akan menunjukkan kebermanfaatannya ketika digunakan bersamaan. Memangnya apa yang terjadi bila digunakan bersamaan? Kita akan bisa melihat kemiringan distribusi data atau dengan kata lain normalitas distribusi. Bila kita perhatikan seluruh grafik dibawah ini kita akan sadar bahwa posisi median akan selalu ditengah, apapun yang terjadi. Sementara mean dan moda dapat mengambil posisi mana saja di dalam grafik. Perhatikan juga bahwa hampir selalu mean dan moda menempati posisi yang berlainan yang dipisahkan oleh median. Bila pada grafik terlihat mean, median, dan moda menempati posisi yang berdekatan maka dapat diasumsikan bahwa himpunan berdistribusi normal. Bila mean berada di sebelah kiri median maka disebut kurva miring negatif, sementara bila mean berada di sebelah kanan median maka disebut kurva miring positif. Memang apa maksudnya positif atau negatif tersebut? Artinya telah terjadi penumpukan nilai pada salah satu sisi kurva, dan dapat diartikan pula bahwa ada kecenderungan data himpunan tersebut tidak normal. Memang kenapa kalau distribusinya tidak normal? Sebenarnya tidak ada yang salah dengan kurva yang miring positif ataupun negatif bila memang itu apa adanya data di lapangan. Namun ada beberapa alat uji statistik yang mensyaratkan normalitas data untuk dianggap layak olah.

Central Tendency bukan satu-satunya alat untuk mengetahui normalitas distribusi meski mean, median, dan moda adalah alat yang paling sederhana untuk mendeteksi normalitas distribusi. Pada bab-bab berikutnya kita akan singgung kembali tentang normalitas distribusi dengan pendekatan yang berbeda.

### Praktik mandiri:
1. Coba karang sebuah himpunan dengan panjang 100, dimana angka yang Anda tulis/pilih kebanyakan mendekati 50 sementara semakin sedikit yang mendekati 0 atau 100.
2. Karang pula himpunan kedua dimana pilihan angkanya kebanyakan mendekati 70.
3. Lalu coba cari mean, median, dan moda untuk kedua himpunan tersebut dan perhatikan kemiringan datanya dilihat dari ketiga alat ukur tadi.
4. Untuk himpunan ketiga, coba buang angka acak yang tidak berdekatan antara satu sama lain, bahkan isi dengan beberapa nilai ekstrim.
5. Lakukan pengukuran Central Tendency pada himpunan acak tersebut untuk melihat apa yang terjadi dengan distribusi datanya.

### Did You Know?
